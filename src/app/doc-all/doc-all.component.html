<app-loading *ngIf="docService.isLoading"></app-loading>

<div class="doc-all" *ngIf="!docService.isLoading">

  <div class="filter level is-mobile">
    <div class="level-left">

      <!-- Doc type filter -->
      <h1 class="filter-name">Type</h1>
      <div class="dropdown dropdown-type" [ngClass]="{ 'is-active': typeFilter }">
        <div class="dropdown-trigger">
          <button class="button" aria-haspopup="true" aria-controls="dropdown-menu" (click)="typeFilter = !typeFilter ">
        <span>{{selectedType}}</span>
        <span class="icon is-small">
          <i class="fa fa-angle-down" aria-hidden="true"></i>
        </span>
      </button>
        </div>
        <div class="dropdown-menu" id="dropdown-menu" role="menu">
          <div class="dropdown-content">
            <a class="dropdown-item" *ngFor="let type of docService.documentationType" (click)="selectedType = type; typeFilter = false">
              {{type}}
            </a>
          </div>
        </div>
      </div>

      <!-- Doc tech filter -->
      <h1 class="filter-name">Tech</h1>
      <div class="dropdown dropdown-type" [ngClass]="{ 'is-active': techFilter }">
        <div class="dropdown-trigger">
          <button class="button" aria-haspopup="true" aria-controls="dropdown-menu" (click)="techFilter = !techFilter ">
        <span>{{selectedTech}}</span>
        <span class="icon is-small">
          <i class="fa fa-angle-down" aria-hidden="true"></i>
        </span>
      </button>
        </div>
        <div class="dropdown-menu" id="dropdown-menu" role="menu">
          <div class="dropdown-content">
            <a class="dropdown-item" *ngFor="let tech of docService.documentationTech" (click)="selectedTech = tech; techFilter = false">
              {{tech}}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="columns is-multiline doc-columns">
    <div class="column is-one-quarter" *ngFor="let doc of docService.documentation | filter: { type: selectedType, tech: selectedTech }">

      <a target="_blank" href="{{doc.URL}}">
        <div class="card doc-card">
          <header class="card-header">
            <p class="card-header-title">
              <span class="tag is-info is-large type-tag">{{doc.type}}</span> {{doc.name}}
            </p>
          </header>
          <div class="card-content">
            <p class="subtitle">
              {{doc.description}}
            </p>
          </div>
        </div>
      </a>

    </div>
  </div>

</div>
